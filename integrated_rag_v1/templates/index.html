<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Integrated RAG</title>
  <link rel="stylesheet" href="https://unpkg.com/mvp.css" />
  <style>
    .tabs { display:flex; gap:8px; margin-bottom: 8px; }
    .tab { padding:8px 12px; border:1px solid #ddd; border-radius:8px; cursor:pointer; }
    .tab.active { background:#f4f4f4; }
    .panel { display:none; }
    .panel.active { display:block; }
    .answer { white-space: pre-wrap; }
    .src { font-size: 0.9em; opacity: 0.8; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
  <header>
    <h1>Integrated RAG 🧠</h1>
    <p>Web ⎯ PDF ⎯ Audio/Video（Markdown 回答）</p>
  </header>

  <section class="tabs">
    <button class="tab active" data-target="#web">Web</button>
    <button class="tab" data-target="#pdf">PDF</button>
    <button class="tab" data-target="#av">Audio/Video</button>
  </section>

  <main>
    <section id="web" class="panel active">
      <form id="form-web">
        <label>問題 <input required name="question" placeholder="想問什麼？"></label>
        <label>（可選）URL <input name="url" placeholder="https://..."></label>
        <button type="submit">送出</button>
      </form>
      <article>
        <h3>回答</h3>
        <div id="out-web" class="answer"></div>
        <div id="src-web" class="src"></div>
      </article>
    </section>

    <section id="pdf" class="panel">
      <form id="form-pdf">
        <label>問題 <input required name="question" placeholder="針對 PDF 想問什麼？"></label>
        <label>上傳 PDF <input required type="file" name="file" accept="application/pdf"></label>
        <button type="submit">送出</button>
      </form>
      <article>
        <h3>回答</h3>
        <div id="out-pdf" class="answer"></div>
        <div id="src-pdf" class="src"></div>
      </article>
    </section>

    <section id="av" class="panel">
      <form id="form-av">
        <label>問題 <input required name="question" placeholder="想從影音內容找什麼？"></label>
        <label>上傳影音 <input required type="file" name="file" accept="audio/*,video/*"></label>
        <button type="submit">送出</button>
      </form>
      <article>
        <h3>回答</h3>
        <div id="out-av" class="answer"></div>
        <div id="src-av" class="src"></div>
      </article>
    </section>
  </main>

  <script src="/static/main.js"></script>
</body>
</html>
